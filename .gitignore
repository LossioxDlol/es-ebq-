local player = game.Players.LocalPlayer
local humanoid = player.Character:WaitForChild("Humanoid")

local canClimb = false
local climbSpeed = 50

local debounce = false

humanoid.Touched:Connect(function(hit)
    if debounce or not canClimb then
        return
    end

    debounce = true

    local wall = hit.Parent
    if wall:IsA("BasePart") then
        local part = wall
        while wall and wall:IsA("BasePart") do
            part = wall
            wall = wall.Parent
        end

        if part:IsA("BasePart") then
            local dir = (part.Position - player.Character.HumanoidRootPart.Position).unit
            humanoid:MoveTo(player.Character.HumanoidRootPart.Position + dir * climbSpeed)
        end
    end

    debounce = false
end)

game:GetService("UserInputService").InputBegan:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.Space then
        canClimb = true
    end
end)

game:GetService("UserInputService").InputEnded:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.Space then
        canClimb = false
    end
end)

